sudo: required

before_install:
- sudo apt-get install zip
- sudo apt install ccache
- git clone --recursive https://github.com/TheRagingBeast/TheRagingBeast-kernel-Moto-C-plus -b mod ~/trb
- git clone https://github.com/nathanchance/gcc-prebuilts -b arm-linaro-7.x tc
- git clone --recursive https://github.com/varunhardgamer/LazyFlasher ~/trb/lf
script:
- cd ~/trb
- chmod a+x ~/trb/tc
- chmod a+x ~/trb/tc/bin
- sudo chmod -R 755 ~/trb
- export ARCH=arm
- export CROSS_COMPILE=~/trb/tc/bin/arm-linaro-linux-androideabi-
- export KBUILD_BUILD_USER="DhirajMS"
- export KBUILD_BUILD_HOST="Dracarys"
- mkdir -p out
- make O=out panelli_defconfig
- make O=out -j128
- cp ~/trb/arch/arm/boot/zImage ~/trb/lf
- cd ~/trb/lf
- zip -r9 TheRagingBeast_a6000-CIBuild.zip ~/trb/lf/*
- curl --upload-file ./TheRagingBeast_a6000-CIBuild.zip https://transfer.sh/TheRagingBeast_a6000-CIBuild.zip
- cd ~/trb/arch/arm/boot
- curl --upload-file ./zImage https://transfer.sh/zImage
- cd ~/trb/lf
- echo All Done
